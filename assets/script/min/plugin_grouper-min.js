function getUrlParameter(t){for(var n=window.location.search.substring(1),a=n.split("&"),i=0;i<a.length;i++){var r=a[i].split("=");if(r[0]===t)return r[1]}}jQuery(document).ready(function($){$("#group-manager-setting-text").click(function(t){var n={action:"PIGPR Setting Text",mode:"Plugin Manager",status:$("#group-manager-setting-text:checked").length};$obj=$(this),$.post(ajaxurl,n,function(t){t?$(".button-plugin-manager .text").addClass("hidden"):$(".button-plugin-manager .text").removeClass("hidden")},"json")}),$("#group-manager-setting-hidden").click(function(t){var n={action:"PIGPR Setting Hidden",mode:"Plugin Manager",status:$("#group-manager-setting-hidden:checked").length};$obj=$(this),$.post(ajaxurl,n,function(t){t?$(".wp-list-table > tbody > tr.hidden").addClass("show"):$(".wp-list-table > tbody > tr.hidden").removeClass("show")},"json")})}),jQuery(document).ready(function($){function t(t){return t?(t=t.replace(/([ #;?%&,.+*~\':"!^$[\]()=>|\/@])/g,"\\$1"),$('.plugin_grouper_wrap input[type="checkbox"][data-id="'+t+'"]')):$('.plugin_grouper_wrap input[type="checkbox"]')}function n(){var n=0;return t().each(function(){$(this).prop("checked")&&n++}),n}function a(t){return $(t?'.wp-list-table.plugins tr[data-plugin="'+t+'"]':".plugin_grouper_wrap")}function i(){t().click(function(){var t=$(this).attr("data-plugin-id"),n=$(this).attr("data-id"),i=$(this).attr("data-name"),o={mode:"Plugin Manager",plugin_id:t,group_id:n,group_name:i};u(),$(this).is(":checked")?(o.action="PIGPR_INPUT_INTO_GROUP",$.post(ajaxurl,o,function(o){var u='<a href="'+o.url+'" data-id="'+n+'" style="background-color:'+o.bgcolor+"; color:"+o.color+'" data-id="'+n+'" data-bgcolor="'+o.bgcolor+'" data-color="'+o.color+'">'+i+"</a>";a(t).find("td.column-description .groups").append(u),e();var l=$(".subsubsub.plugin-groups li."+n+" .count").html();l=parseInt(l.substr(1,l.length-2))+1,$(".subsubsub.plugin-groups li."+n+" .count").html("("+l+")"),r("trace adding")},"json")):(o.action="PIGPR_DELETE_FROM_GROUP",$.post(ajaxurl,o,function(i){a(t).find('td.column-description .groups a[data-id="'+n+'"]').remove(),e();var o=$(".subsubsub.plugin-groups li."+n+" .count").html();o=parseInt(o.substr(1,o.length-2))-1,$(".subsubsub.plugin-groups li."+n+" .count").html("("+o+")"),r("trace subtraction")},"json"))})}function r(t){var a=n();if(1==a||0==a){var i=$(".subsubsub.plugin-groups li.not-in-any-groups .count").html();i=parseInt(i.substr(1,i.length-2)),1==a&&"trace adding"==t&&i--,0==a&&"trace subtraction"==t&&i++,$(".subsubsub.plugin-groups li.not-in-any-groups .count").html("("+i+")")}}function o(){a().remove(),$(".group_open").removeClass("group_open")}function u(){$(".wp-list-table.plugins .loading_spinner").show(),t().attr("disabled",!0)}function e(){$(".wp-list-table.plugins .loading_spinner").hide(),t().removeAttr("disabled")}function l(){$(".wp-list-table.plugins .btn-close_group").click(function(t){return t.preventDefault(),o(),!0})}function s(){$(".wp-list-table.plugins .inp-create_group").keypress(function(t){10!==t.which&&13!==t.which||($(".wp-list-table.plugins .btn-create_group").click(),t.preventDefault())}),$(".wp-list-table.plugins .btn-create_group").click(function(t){if(t.preventDefault(),$(".wp-list-table.plugins .inp-create_group").val().length){var n=$(".plugin_grouper_wrap").attr("data-plugin"),a={action:"PIGPR_CREATE_GROUP",mode:"Plugin Manager",group_name:$(".wp-list-table.plugins .inp-create_group").val(),plugin_id:n};u(),$.post(ajaxurl,a,function(t){e();var a=t.url,o=t.group_id,u=t.group_name,l=t.bgcolor,s=t.color;$(".plugin_grouper_wrap ul").append("<li></li>"),$("#Grouping-Row ul").append("<li></li>");var c=$(".plugin_grouper_wrap ul li:last-child"),g=$("#Grouping-Row ul li:last-child"),d=c.index(),b="";b='<label for="group_radio_'+d+'">',b+='<input id="group_radio_'+d+'" type="checkbox" data-id="'+o+'"  data-name="'+u+'" data-plugin-id="'+n+'" />',b+=u,b+="</label>",b+="</label>",b+='<input type="text" value="'+l+'" class="group_colour_picker" data-id="'+o+'" />',c.html(b),b='<input type="checkbox" data-id="'+o+'"  data-name="'+u+'" data-plugin-id="'+n+'" />',b+="<label>"+u+"</label>",g.html(b),$(".subsubsub.plugin-groups li:last-child a").after(" |"),$(".subsubsub.plugin-groups li:last-child a").parent().after('<li class="group '+u+'"><a href="'+a+'" >'+u+'</a> <span class="count">(0)</span></li>'),i(),p(),$(".wp-list-table.plugins .inp-create_group").val(""),$("#group_radio_"+d).click(),r("trace adding")},"json")}else $(".wp-list-table.plugins .inp-create_group").focus();return!0})}function p(){$(".wp-list-table.plugins tr.plugin_grouper_wrap .group_colour_picker").each(function(){var t=$(this).attr("data-id");$(this).spectrum({showPaletteOnly:!0,color:$(this).val(),palette:[["#000000","#444444","#666666","#999999","#CCCCCC","#EEEEEE","#F3F3F3","#FFFFFF"],["#F00F00","#F90F90","#FF0FF0","#0F00F0","#0FF0FF","#00F00F","#90F90F","#F0FF0F"],["#F4CCCC","#FCE5CD","#FFF2CC","#D9EAD3","#D0E0E3","#CFE2F3","#D9D2E9","#EAD1DC"],["#EA9999","#F9CB9C","#FFE599","#B6D7A8","#A2C4C9","#9FC5E8","#B4A7D6","#D5A6BD"],["#E06666","#F6B26B","#FFD966","#93C47D","#76A5AF","#6FA8DC","#8E7CC3","#C27BA0"],["#C00C00","#E69138","#F1C232","#6AA84F","#45818E","#3D85C6","#674EA7","#A64D79"],["#900900","#B45F06","#BF9000","#38761D","#134F5C","#0B5394","#351C75","#741B47"],["#600600","#783F04","#7F6000","#274E13","#0C343D","#073763","#20124D","#4C1130"]],change:function(n){var a={action:"PIGPR_SET_GROUP_COLOR",group_id:t,color:n.toHexString(),mode:"Plugin Manager"};$.post(ajaxurl,a,function(n){$('.plugin-version-author-uri div.groups a[data-id="'+t+'"], .subsubsub.plugin-groups li.group a[data-id="'+t+'"]').css({"background-color":n.bgcolor,color:n.color}).attr("data-bgcolor",n.bgcolor).attr("data-color",n.color)},"json")}})})}function c(n){t().removeAttr("checked"),a(n).find("td.column-description .groups a").each(function(){var n=$(this).attr("data-id");t(n).attr("checked",!0)})}$(".button-grouping").click(function(t){if(t.preventDefault(),$(this).hasClass("group_open"))return o(),!0;o();var n=$(this).attr("data-plugin"),r=$("#Grouping-Row").clone();return a(n).first().after('<tr class="inactive plugin_grouper_wrap" data-plugin="'+n+'"><td colspan="1000">'+r.html()+"</td></tr>"),$(".plugin_grouper_wrap li").each(function(t){var a="group_radio_"+t;$(this).find("input").attr("data-plugin-id",n),$(this).find("input").attr("id",a),$(this).find("label").attr("for",a)}),$(this).addClass("group_open"),p(),l(),s(),i(),c(n),!0})}),jQuery(document).ready(function($){function t(t){t.parents("tr").addClass("locked"),t.parents("tr").removeClass("unlocked")}function n(t){t.parents("tr").removeClass("locked"),t.parents("tr").addClass("unlocked")}$("table.plugins tbody tr .row-actions .lock a").each(function(){"locked"==$(this).attr("data-locked")?t($(this)):n($(this)),$(this).parents("tr").find("th.check-column").prepend('<span class="dashicons dashicons-lock"></span>')}),$(".button-lock").click(function(n){n.preventDefault();var a=$(this).attr("data-plugin_file"),i={action:"PIGPR_LOCK",mode:"Plugin Manager",plugin_file:a};$obj=$(this),$.post(ajaxurl,i,function(n){t($obj)},"json")}),$(".button-unlock").click(function(t){t.preventDefault();var a=$(this).attr("data-plugin_file"),i={action:"PIGPR_UNLOCK",mode:"Plugin Manager",plugin_file:a};$obj=$(this),$.post(ajaxurl,i,function(t){n($obj)},"json")})}),jQuery(document).ready(function($){});